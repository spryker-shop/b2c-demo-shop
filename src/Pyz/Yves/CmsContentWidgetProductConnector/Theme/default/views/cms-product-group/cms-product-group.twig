{% extends template('widget') %}

{% define data = {
    product: product | default,
    products: products | default([])
} %}

{% block body %}
    <div class="grid grid--stretch product-list">
        {% for availableProduct in data.products if availableProduct.available %}
            {{ widget('ProductGroupWidgetPlugin', availableProduct) }}
        {% endfor %}
    </div>

    {% if data.product is not empty %}
        {{ widget('ProductGroupWidgetPlugin', data.product) }}
    {% endif %}
{% endblock %}
