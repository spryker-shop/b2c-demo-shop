{% extends model('component') %}

{% define config = {
    name: 'navigation-header',
    tag: 'nav'
} %}

{% define data = {
    nodes: [],
    menuInline: false,
    menuDropdown: false
} %}

{% set menuClass = data.menuInline ? 'menu--inline' : '' %}
{% set menuChildrenClass = data.menuDropdown ? 'menu__item--has-children-dropdown' : 'menu__item--has-children-list' %}

{% block body %}
    <ul class="menu {{menuClass}} menu--top-level top-navigation-desktop grid grid--center grid--no-wrap">
        {% for node in data.nodes %}
            {% set hasChildren = node.children | length > 0 %}
            {% set flyoutClass = 'flyout-fullscreen' %}
            {% set flyoutClassBrand = 'flyout-fullscreen brand-dropdown' %}

            {% if node.cssClass == flyoutClass or flyoutClassBrand %}

            {% include molecule('navigation-multilevel-node-fullscreen') with {
                class: 'menu__item ' ~ (hasChildren ? menuChildrenClass : 'childless') ~ ' ' ~  node.cssClass ,
                data: {
                    node: node
                }
            } only %}
            {% else %}
                {% include molecule('navigation-multilevel-node') with {
                    class: 'menu__item ' ~ (hasChildren ? menuChildrenClass : 'childless') ~ ' ' ~  node.cssClass ,
                    data: {
                        node: node
                    }
                } only %}
            {% endif %}
        {% endfor %}
    </ul>
{% endblock %}
